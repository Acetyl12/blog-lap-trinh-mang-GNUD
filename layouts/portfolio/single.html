{{ define "main" }}
<!-- container này sẽ chiếm toàn bộ cột của grid cha -->
<section class="container mx-auto p-6 col-span-full">
  <article class="max-w-none">
    <header class="mb-6">
      <h1 class="text-3xl font-bold">{{ .Title }}</h1>
      {{ with .Params.summary }}<p class="opacity-80 mt-1">{{ . }}</p>{{ end }}
      <div class="mt-2 flex flex-wrap gap-3 text-sm opacity-80">
        {{ with .Params.role }}<span>Vai trò: <strong>{{ . }}</strong></span>{{ end }}
        <span>Ngày: {{ .Date.Format "2006-01-02" }}</span>
      </div>
      {{ with .Params.tech }}
      <div class="mt-3 flex flex-wrap gap-2">
        {{ range . }}<span class="px-2 py-1 text-xs rounded-full bg-neutral-100 dark:bg-neutral-800">{{ . }}</span>{{ end }}
      </div>
      {{ end }}
      {{ with .Params.links }}
      <div class="mt-4 flex flex-wrap gap-3">
        {{ range . }}
        <a class="px-3 py-2 rounded-lg bg-black text-white dark:bg-white dark:text-black"
           href="{{ .url }}" target="_blank" rel="noopener">{{ .label }}</a>
        {{ end }}
      </div>
      {{ end }}
    </header>

    {{ $cover := .Resources.GetMatch "cover*" }}
    {{ if $cover }}
      <img src="{{ $cover.RelPermalink }}" alt="{{ .Title }}" class="w-full rounded-xl mb-6 object-cover">
    {{ end }}

    <!-- bỏ giới hạn 65ch của prose để không bị “nửa màn hình” -->
    <div class="prose dark:prose-invert max-w-none mx-auto">
      {{ .Content }}
    </div>

    {{ partial "post-taxonomies.html" . }}
  </article>
</section>
{{ end }}
